# INFRA - 20190409

브로드캐스트 mac 주소 : FF-FF-FF-FF-FF-FF 고정!

이더넷 상에서 브로드캐스트 주소를 이용해서 통신을 할 경우, 받은 포트 이외의 모든 포트에 포워딩 시킨다. 즉, 처음 브로드캐스트 한 host에서 보낸 브로드캐스트 응답이 다시 돌아 올 수 있다는 뜻임.
=> 이를 방지하는 프로토콜이 Spanning Tree Protocol 이다.

STP는 BPDU(Bridge Protocol Data Unit / 브리지 ID, 경로값, 포트 ID를 가지고있음)

Bridge ID = Switch ID

브릿지의 퍼포먼스가 좋지 않아 스위치로 진화함.

브릿지 ID
총 8바이트로 구성되어있으며, Bridge(2byte)+MAC(6byte)으로 구성되어있다.

경로값 : IEEE에서 속도에따라 지정해주었으며, 빠를수록 경로값이 작다.

포트 ID : BPDU를 전송하는 스위치의 포트 우선 순위와 포트 번호로 구성 기본값 128.

루트 스위치를 설정하면, 루트스위치와 연결되어있는 각 브릿지 포트 중 경로값이 가장 낮은 포트, 이걸로 판별이 안나면 낮은 포트 번호가 루트포트가 된다.  나머지는 지정포트가 된다.

백본 스위치 : 모든 전산서버들이 집중되어 몰리는 장비

VDI (Virtual Desktop Infra) : 

이더채널 : 두 스위치간 여러개의 세그먼트를 하나인거 처럼 쓸 수 있게 해준다.
1. 동일한 포트타입끼리만 구성 가능
2. 하나의 이더채널은 최대 8개의 포트로 구성한다.
3. L2~L3에서만 동작 가능.
4. 엑세스포트, 트렁크포트로 사용가능하다.
5. 이더채널을 이용해 L3구간에서 동작시키면, 이를 이용하여 ip를 할당 할 수 있다.

이더채널을 구성하는데
PAGP (Port Aggregation Protocol) => CISCO 프로토콜
LACP (Link Aggregation Control Protocol) => IEEE 802.3AD 규정