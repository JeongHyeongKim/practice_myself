# 20190823 - Associate 정리


1. 객체 수준의 스토리지이기 때문에 파일의 일부를 변경하기 위해서는 파일 전체를 다시 업로드 해야함.
2. 한 객체당 5TB를 넘을 수 없음.
3. 여러 가용영역에 중복으로 저장된다. (S3 One Zone Infrequently Access는 하나이 zone에만 저장된다. )
4. 이벤트(업로드, 삭제 등...)에 맞는 알림 기능이 있음. 이 기능을 기반으로 Lambda를 통해 다른 프로세스를 실행 시킬 수 있음.
5. 주로 정적 웹 컨텐츠를 저장하고 배포한다. 


다음과 같은 방법으로 데이터를 S3로 이동 할 수 있다.
1. console, CLI, API
2. S3버킷에 직접 업로드
3. AWS DataSync : 온프레미스 스토리지오 S3 or EFS간의 데이터 이전을 쉽게 자동화 시켜주는 전송서비스
4. Transfer for SFTP 

Amazon S3 Transfer Acceleration
CloudFront의 edge location을 통해 빠르고 간편하게 데이터를 S3버킷으로 전송 할 수 있다. 이 데이터는 최적화된 네트워크 경로를 통해 S3로 라우팅된다.
중앙 버킷으로 업로드 하는경우나 정기적으로 큰 규모의 데이터를 전송하는 경우, 대역폭의 활용도가 떨어지는 경우, 이 기능을 사용하면 좋다.

S3의 모범 사용 사례
- 한번 쓰고 여러번 읽는 경우
- 데이터 엑세스가 일시적으로 급증하는 경우
- 사용자가 매우 많고 콘텐츠가 다양한 경우
- 데이터 세트가 계속 증가할 경우

다음과 같은 경우는 효율이 떨어짐
- Block Storage를 요구하는 경우
- 데이터가 자주 바뀌는 경우
- 장기적으로 아카이빙 해야하는 경우


S3 Storage Class
- S3 Standard : 범적으로 쓰는 S3임.
- S3 Standard - Infrequent Access : 사용자의 예전 디지털 이미지나 오래된 로그 파일과 같이 자주 엑세스 하지 않는 데이터를 위한 솔루션, One Zone 옵션이 붙으면 한 가용영역에만 저장하기 때문에 일반 IA보다 20%정도 저렴하다고 한다.


인터넷 게이트웨이
public VPC instance와 외부 인터넷을 연결해주는 게이트웨이

NAT 게이트웨이
privaate VPC instance와 외부 인터넷을 연결 해주는 게이트웨이

한 인스턴스에 네트워크 인터페이스가 2개 이상 있는 이유는?
- 관리 네트워크의 형성
- VPC에서 네트워크 및 보안 어플라이언스 사용
- 별도의 서브넷에 있는 워크로드 / 역할로 이중화된 홈 인스턴스 생성

-> 예를 들어 기본 네트워크 인터페이스 (eth0)는 외부에서 들어오는 퍼블릭 요청을 처리하고 보조 네트워크 인터페이스(eth1)의 경우에는 내부에 있는 엑세스가 제한되는 별도의 서브넷에 연결하여 중요한 자원을 처리 할 수 있도록 한다.

